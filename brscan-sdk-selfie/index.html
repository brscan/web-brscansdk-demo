<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0" />

	<title>BrScan SDK Selfie Demo</title>

	<link rel="stylesheet" href="selfie/css/tiny-slider.css">
	<link rel="stylesheet" href="selfie/css/tiny-slider-styles.css">
	<link rel="stylesheet" href="selfie/css/brscan-sdk-selfie-fonts.css">
	<link rel="stylesheet" href="selfie/css/brscan-sdk-selfie.css">

	<script type="text/javascript" src="selfie/js/common/getusermedia.js"></script>
	<script type="text/javascript" src="selfie/js/common/polyfil.js"></script>
	<script type="text/javascript" src="selfie/js/common/pico.js"></script>
	<script type="text/javascript" src="selfie/js/common/tinyslider.js"></script>

	<script src="selfie/js/selfie_data.js"></script>
	<script src="selfie/js/selfie.min.js"></script>
</head>

<body>
	<div id="selfieContainer" class="selfieContainer">
		<div id="selfieWebcamParent" class="selfieWebcamParent">
			<div class="selfieWebcam">
				<div id="selfieContainerParent" class="selfieContainerParent">
					<video class="posicaoAbsolute" playsinline autoplay muted></video>
					<canvas id="selfieCanvas" class="selfieCanvas"></canvas>
				</div>
				<div class="selfieMaskCanvas centralizado">
					<img class="selfieMaskCanvas centralizado" id="selfieMaskId" src="selfie/img/SelfieFrameMask.png"/>
					<img class="selfieMaskCanvas centralizado" id="selfieMaskIdDetails" src="selfie/img/SelfieFrameMaskDetails.png"/>
					<img class="selfieMaskCanvas centralizado" id="selfieMaskIdOval" src="selfie/img/SelfieFrameMaskOval.png"/>
				</div>
			</div>
			<div id="selfieAvisoContainer" class="webcamAviso"><p id="selfieTextoAviso">Aguarde ...</p></div>
			<div id="selfieBotaoAcaoCancelar" class="selfieBotaoAcaoCancelar"><img id="botaoAcaoCancelarImagem" src="selfie/img/IconFechar.png"/></div>
		</div>

		<div id="selfieLoading" class="selfieLoading">
			<div class="centralizado">
				<img src="selfie/img/Loading.gif" />
			</div>
		</div>
	
	</div>
</body>

<script>

var selfie = null;

document.addEventListener('DOMContentLoaded', function() {
	try {
		selfie = new Selfie(
			// chave
			" ",
			// elemento div
			document.getElementById('selfieContainer')


		);

		selfie.iniciaSelfie(
			// sucesso
			(selfie) => {
				alert('Selfie recebida com sucesso');

			},

			// falha
			(erroId, mensagem) => {
				console.log(erroId, mensagem);
				alert("Atenção: " + mensagem);

			}
		);
	}
	catch(erro) {
		console.error(erro);
	}

});

</script>
</html>
